package maps

import (
	"github.com/BattlesnakeOfficial/rules"
)

type CastleWallMap struct{}

func init() {
	globalRegistry.RegisterMap("castle_wall", CastleWallMap{})
}

func (m CastleWallMap) ID() string {
	return "castle_wall"
}

func (m CastleWallMap) Meta() Metadata {
	return Metadata{
		Name:        "Castle Wall",
		Description: "Wall of hazards around the board with dangerous bridges",
		Author:      "bcambl",
		Version:     1,
		MinPlayers:  2,
		MaxPlayers:  4,
		BoardSizes: FixedSizes(
			Dimensions{7, 7},
			Dimensions{9, 9},
			Dimensions{11, 11},
			Dimensions{13, 13},
			Dimensions{15, 15},
			Dimensions{17, 17},
			Dimensions{19, 19},
			Dimensions{21, 21},
			Dimensions{23, 23},
			Dimensions{25, 25}),
	}
}

func (m CastleWallMap) SetupBoard(initialBoardState *rules.BoardState, settings rules.Settings, editor Editor) error {

	rand := settings.GetRand(initialBoardState.Turn)

	// Place snakes
	snakes, ok := CastleWallPositions.Snakes[rules.Point{X: initialBoardState.Width, Y: initialBoardState.Height}]
	if !ok {
		return rules.RulesetError("board size is not supported by this map")
	}

	rand.Shuffle(len(snakes), func(i int, j int) {
		snakes[i], snakes[j] = snakes[j], snakes[i]
	})

	for index, snake := range initialBoardState.Snakes {
		head := snakes[index]
		editor.PlaceSnake(snake.ID, []rules.Point{head, head, head}, snake.Health)
	}

	hazards, ok := CastleWallPositions.Hazards[rules.Point{X: initialBoardState.Width, Y: initialBoardState.Height}]
	if !ok {
		return rules.RulesetError("board size is not supported by this map")
	}

	for _, h := range hazards {
		editor.AddHazard(h)
	}
	return nil
}

func (m CastleWallMap) UpdateBoard(lastBoardState *rules.BoardState, settings rules.Settings, editor Editor) error {

	// max of 2 food on board
	if len(lastBoardState.Food) > 1 {
		return nil
	}

	rand := settings.GetRand(lastBoardState.Turn)

	food, ok := CastleWallPositions.Food[rules.Point{X: lastBoardState.Width, Y: lastBoardState.Height}]
	if !ok {
		return rules.RulesetError("board size is not supported by this map")
	}

	rand.Shuffle(len(food), func(i int, j int) {
		food[i], food[j] = food[j], food[i]
	})

	for _, f := range food {
		tileIsOccupied := false

	snakeLoop:
		for _, snake := range lastBoardState.Snakes {
			for _, point := range snake.Body {
				if point.X == f.X && point.Y == f.Y {
					tileIsOccupied = true
					break snakeLoop
				}
			}
		}

		for _, existingFood := range lastBoardState.Food {
			if existingFood.X == f.X && existingFood.Y == f.Y {
				tileIsOccupied = true
				break
			}
		}

		if !tileIsOccupied {
			editor.AddFood(f)
			break
		}
	}

	return nil
}

type CastleWall struct {
	Snakes  map[rules.Point][]rules.Point
	Food    map[rules.Point][]rules.Point
	Hazards map[rules.Point][]rules.Point
}

var CastleWallPositions = CastleWall{
	Snakes: map[rules.Point][]rules.Point{
		{X: 7, Y: 7}: {
			{X: 0, Y: 0},
			{X: 0, Y: 6},
			{X: 6, Y: 0},
			{X: 6, Y: 6},
		},
		{X: 9, Y: 9}: {
			{X: 0, Y: 0},
			{X: 0, Y: 8},
			{X: 8, Y: 0},
			{X: 8, Y: 8},
		},
		{X: 11, Y: 11}: {
			{X: 1, Y: 1},
			{X: 1, Y: 9},
			{X: 9, Y: 1},
			{X: 9, Y: 9},
		},
		{X: 13, Y: 13}: {
			{X: 1, Y: 1},
			{X: 1, Y: 11},
			{X: 11, Y: 1},
			{X: 11, Y: 11},
		},
		{X: 15, Y: 15}: { //todo
			{X: 1, Y: 1},
			{X: 1, Y: 11},
			{X: 11, Y: 1},
			{X: 11, Y: 11},
		},
		{X: 17, Y: 17}: { //todo
			{X: 1, Y: 1},
			{X: 1, Y: 11},
			{X: 11, Y: 1},
			{X: 11, Y: 11},
		},
		{X: 19, Y: 19}: { // todo
			{X: 1, Y: 1},
			{X: 1, Y: 11},
			{X: 11, Y: 1},
			{X: 11, Y: 11},
		},
		{X: 21, Y: 21}: { // todo
			{X: 1, Y: 1},
			{X: 1, Y: 11},
			{X: 11, Y: 1},
			{X: 11, Y: 11},
		},
		{X: 23, Y: 23}: { // todo
			{X: 1, Y: 1},
			{X: 1, Y: 11},
			{X: 11, Y: 1},
			{X: 11, Y: 11},
		},
		{X: 25, Y: 25}: { // todo
			{X: 1, Y: 1},
			{X: 1, Y: 11},
			{X: 11, Y: 1},
			{X: 11, Y: 11},
		},
	},
	Food: map[rules.Point][]rules.Point{
		{X: 7, Y: 7}: {
			{X: 1, Y: 3},
			{X: 3, Y: 1},
			{X: 3, Y: 5},
			{X: 5, Y: 3},
		},
		{X: 9, Y: 9}: {
			{X: 1, Y: 4},
			{X: 4, Y: 1},
			{X: 4, Y: 7},
			{X: 7, Y: 4},
		},
		{X: 11, Y: 11}: {
			{X: 2, Y: 5},
			{X: 5, Y: 2},
			{X: 5, Y: 8},
			{X: 8, Y: 5},
		},
		{X: 13, Y: 13}: {
			{X: 2, Y: 6},
			{X: 6, Y: 2},
			{X: 6, Y: 10},
			{X: 10, Y: 6},
		},
		{X: 15, Y: 15}: {
			{X: 2, Y: 6},
			{X: 2, Y: 8},
			{X: 3, Y: 6},
			{X: 3, Y: 8},
			{X: 6, Y: 2},
			{X: 6, Y: 3},
			{X: 6, Y: 11},
			{X: 6, Y: 12},
			{X: 8, Y: 2},
			{X: 8, Y: 3},
			{X: 8, Y: 11},
			{X: 8, Y: 12},
			{X: 11, Y: 6},
			{X: 11, Y: 8},
			{X: 12, Y: 6},
			{X: 12, Y: 8},
		},
		{X: 17, Y: 17}: {
			{X: 2, Y: 7},
			{X: 2, Y: 9},
			{X: 3, Y: 7},
			{X: 3, Y: 9},
			{X: 7, Y: 2},
			{X: 7, Y: 3},
			{X: 7, Y: 13},
			{X: 7, Y: 14},
			{X: 9, Y: 2},
			{X: 9, Y: 3},
			{X: 9, Y: 13},
			{X: 9, Y: 14},
			{X: 13, Y: 7},
			{X: 13, Y: 9},
			{X: 14, Y: 7},
			{X: 14, Y: 9},
		},
		{X: 19, Y: 19}: {
			{X: 2, Y: 8},
			{X: 2, Y: 10},
			{X: 3, Y: 8},
			{X: 3, Y: 10},
			{X: 8, Y: 2},
			{X: 8, Y: 3},
			{X: 8, Y: 15},
			{X: 8, Y: 16},
			{X: 10, Y: 2},
			{X: 10, Y: 3},
			{X: 10, Y: 15},
			{X: 10, Y: 16},
			{X: 15, Y: 8},
			{X: 15, Y: 10},
			{X: 16, Y: 8},
			{X: 16, Y: 10},
		},
		{X: 21, Y: 21}: {
			{X: 3, Y: 9},
			{X: 3, Y: 11},
			{X: 4, Y: 9},
			{X: 4, Y: 11},
			{X: 9, Y: 3},
			{X: 9, Y: 4},
			{X: 9, Y: 16},
			{X: 9, Y: 17},
			{X: 11, Y: 3},
			{X: 11, Y: 4},
			{X: 11, Y: 16},
			{X: 11, Y: 17},
			{X: 16, Y: 9},
			{X: 16, Y: 11},
			{X: 17, Y: 9},
			{X: 17, Y: 11},
		},
		{X: 23, Y: 23}: {
			{X: 3, Y: 7},
			{X: 3, Y: 14},
			{X: 4, Y: 7},
			{X: 4, Y: 14},
			{X: 8, Y: 3},
			{X: 8, Y: 4},
			{X: 8, Y: 18},
			{X: 8, Y: 19},
			{X: 14, Y: 3},
			{X: 14, Y: 4},
			{X: 14, Y: 18},
			{X: 14, Y: 19},
			{X: 18, Y: 7},
			{X: 18, Y: 14},
			{X: 19, Y: 7},
			{X: 19, Y: 14},
		},
		{X: 25, Y: 25}: {
			{X: 3, Y: 8},
			{X: 3, Y: 12},
			{X: 3, Y: 16},
			{X: 4, Y: 8},
			{X: 4, Y: 12},
			{X: 4, Y: 16},
			{X: 8, Y: 3},
			{X: 8, Y: 4},
			{X: 8, Y: 20},
			{X: 8, Y: 21},
			{X: 12, Y: 3},
			{X: 12, Y: 4},
			{X: 12, Y: 20},
			{X: 12, Y: 21},
			{X: 16, Y: 3},
			{X: 16, Y: 4},
			{X: 16, Y: 20},
			{X: 16, Y: 21},
			{X: 20, Y: 8},
			{X: 20, Y: 12},
			{X: 20, Y: 16},
			{X: 21, Y: 8},
			{X: 21, Y: 12},
			{X: 21, Y: 16},
		},
	},
	Hazards: map[rules.Point][]rules.Point{
		{X: 7, Y: 7}: {
			{X: 1, Y: 1},
			{X: 1, Y: 2},
			{X: 2, Y: 1},
			{X: 1, Y: 4},
			{X: 1, Y: 5},
			{X: 2, Y: 5},
			{X: 4, Y: 1},
			{X: 5, Y: 1},
			{X: 5, Y: 2},
			{X: 4, Y: 5},
			{X: 5, Y: 4},
			{X: 5, Y: 5},
			// double hazards near passages:
			{X: 1, Y: 2},
			{X: 1, Y: 4},
			{X: 2, Y: 1},
			{X: 2, Y: 5},
			{X: 4, Y: 1},
			{X: 4, Y: 5},
			{X: 5, Y: 2},
			{X: 5, Y: 4},
		},
		{X: 9, Y: 9}: {
			{X: 1, Y: 7},
			{X: 2, Y: 7},
			{X: 3, Y: 7},
			{X: 1, Y: 6},
			{X: 1, Y: 5},
			{X: 1, Y: 3},
			{X: 1, Y: 2},
			{X: 1, Y: 1},
			{X: 2, Y: 1},
			{X: 3, Y: 1},
			{X: 5, Y: 1},
			{X: 6, Y: 1},
			{X: 7, Y: 1},
			{X: 7, Y: 3},
			{X: 7, Y: 2},
			{X: 7, Y: 5},
			{X: 7, Y: 6},
			{X: 7, Y: 7},
			{X: 6, Y: 7},
			{X: 5, Y: 7},
			// double hazards near passages:
			{X: 1, Y: 3},
			{X: 1, Y: 5},
			{X: 3, Y: 1},
			{X: 3, Y: 7},
			{X: 5, Y: 1},
			{X: 5, Y: 7},
			{X: 7, Y: 3},
			{X: 7, Y: 5},
		},
		{X: 11, Y: 11}: {
			{X: 2, Y: 2},
			{X: 2, Y: 3},
			{X: 2, Y: 4},
			{X: 2, Y: 6},
			{X: 2, Y: 7},
			{X: 2, Y: 8},
			{X: 3, Y: 2},
			{X: 3, Y: 8},
			{X: 4, Y: 2},
			{X: 4, Y: 8},
			{X: 6, Y: 2},
			{X: 6, Y: 8},
			{X: 7, Y: 2},
			{X: 7, Y: 8},
			{X: 8, Y: 2},
			{X: 8, Y: 3},
			{X: 8, Y: 4},
			{X: 8, Y: 6},
			{X: 8, Y: 7},
			{X: 8, Y: 8},
			// double hazards near passages:
			{X: 2, Y: 4},
			{X: 2, Y: 6},
			{X: 4, Y: 2},
			{X: 4, Y: 8},
			{X: 6, Y: 2},
			{X: 6, Y: 8},
			{X: 8, Y: 4},
			{X: 8, Y: 6},
		},
		{X: 13, Y: 13}: {
			{X: 2, Y: 10},
			{X: 3, Y: 10},
			{X: 4, Y: 10},
			{X: 5, Y: 10},
			{X: 2, Y: 9},
			{X: 2, Y: 8},
			{X: 2, Y: 7},
			{X: 2, Y: 5},
			{X: 2, Y: 4},
			{X: 2, Y: 3},
			{X: 2, Y: 2},
			{X: 3, Y: 2},
			{X: 4, Y: 2},
			{X: 5, Y: 2},
			{X: 7, Y: 2},
			{X: 8, Y: 2},
			{X: 9, Y: 2},
			{X: 10, Y: 2},
			{X: 10, Y: 3},
			{X: 10, Y: 4},
			{X: 10, Y: 5},
			{X: 10, Y: 7},
			{X: 10, Y: 8},
			{X: 10, Y: 10},
			{X: 10, Y: 9},
			{X: 9, Y: 10},
			{X: 8, Y: 10},
			{X: 7, Y: 10},
			// double hazards near passages:
			{X: 2, Y: 5},
			{X: 2, Y: 7},
			{X: 5, Y: 2},
			{X: 5, Y: 10},
			{X: 7, Y: 2},
			{X: 7, Y: 10},
			{X: 10, Y: 5},
			{X: 10, Y: 7},
		},
		{X: 15, Y: 15}: {
			{X: 2, Y: 10},
			{X: 2, Y: 9},
			{X: 2, Y: 5},
			{X: 2, Y: 4},
			{X: 2, Y: 3},
			{X: 2, Y: 2},
			{X: 3, Y: 2},
			{X: 4, Y: 2},
			{X: 5, Y: 2},
			{X: 7, Y: 2},
			{X: 9, Y: 2},
			{X: 10, Y: 2},
			{X: 2, Y: 7},
			{X: 11, Y: 2},
			{X: 12, Y: 2},
			{X: 12, Y: 3},
			{X: 12, Y: 4},
			{X: 12, Y: 5},
			{X: 12, Y: 9},
			{X: 12, Y: 10},
			{X: 12, Y: 11},
			{X: 12, Y: 12},
			{X: 11, Y: 12},
			{X: 10, Y: 12},
			{X: 9, Y: 12},
			{X: 7, Y: 12},
			{X: 5, Y: 12},
			{X: 4, Y: 12},
			{X: 3, Y: 12},
			{X: 2, Y: 12},
			{X: 2, Y: 11},
			{X: 3, Y: 11},
			{X: 3, Y: 10},
			{X: 3, Y: 9},
			{X: 3, Y: 7},
			{X: 4, Y: 11},
			{X: 5, Y: 11},
			{X: 9, Y: 11},
			{X: 10, Y: 11},
			{X: 11, Y: 11},
			{X: 11, Y: 10},
			{X: 11, Y: 9},
			{X: 11, Y: 5},
			{X: 11, Y: 4},
			{X: 11, Y: 3},
			{X: 10, Y: 3},
			{X: 9, Y: 3},
			{X: 7, Y: 3},
			{X: 5, Y: 3},
			{X: 3, Y: 3},
			{X: 3, Y: 4},
			{X: 3, Y: 5},
			{X: 4, Y: 3},
			{X: 7, Y: 11},
			{X: 11, Y: 7},
			{X: 12, Y: 7},
			// double hazards near passages:
			{X: 2, Y: 5},
			{X: 2, Y: 7},
			{X: 2, Y: 9},
			{X: 3, Y: 5},
			{X: 3, Y: 7},
			{X: 3, Y: 9},
			{X: 5, Y: 2},
			{X: 5, Y: 3},
			{X: 5, Y: 11},
			{X: 5, Y: 12},
			{X: 7, Y: 2},
			{X: 7, Y: 3},
			{X: 7, Y: 11},
			{X: 7, Y: 12},
			{X: 9, Y: 2},
			{X: 9, Y: 3},
			{X: 9, Y: 11},
			{X: 9, Y: 12},
			{X: 11, Y: 5},
			{X: 11, Y: 7},
			{X: 11, Y: 9},
			{X: 12, Y: 5},
			{X: 12, Y: 7},
			{X: 12, Y: 9},
		},
		{X: 17, Y: 17}: {
			{X: 2, Y: 10},
			{X: 2, Y: 5},
			{X: 2, Y: 4},
			{X: 2, Y: 3},
			{X: 2, Y: 2},
			{X: 3, Y: 2},
			{X: 4, Y: 2},
			{X: 5, Y: 2},
			{X: 11, Y: 2},
			{X: 12, Y: 2},
			{X: 12, Y: 3},
			{X: 3, Y: 12},
			{X: 2, Y: 12},
			{X: 2, Y: 11},
			{X: 3, Y: 11},
			{X: 3, Y: 10},
			{X: 11, Y: 3},
			{X: 5, Y: 3},
			{X: 3, Y: 3},
			{X: 3, Y: 4},
			{X: 3, Y: 5},
			{X: 4, Y: 3},
			{X: 2, Y: 13},
			{X: 2, Y: 14},
			{X: 3, Y: 14},
			{X: 3, Y: 13},
			{X: 4, Y: 13},
			{X: 4, Y: 14},
			{X: 5, Y: 14},
			{X: 5, Y: 13},
			{X: 6, Y: 13},
			{X: 6, Y: 14},
			{X: 8, Y: 14},
			{X: 8, Y: 13},
			{X: 10, Y: 13},
			{X: 11, Y: 13},
			{X: 12, Y: 13},
			{X: 13, Y: 13},
			{X: 14, Y: 13},
			{X: 14, Y: 14},
			{X: 13, Y: 14},
			{X: 11, Y: 14},
			{X: 10, Y: 14},
			{X: 12, Y: 14},
			{X: 13, Y: 12},
			{X: 14, Y: 12},
			{X: 14, Y: 11},
			{X: 13, Y: 11},
			{X: 13, Y: 10},
			{X: 14, Y: 10},
			{X: 13, Y: 8},
			{X: 14, Y: 8},
			{X: 14, Y: 6},
			{X: 13, Y: 6},
			{X: 13, Y: 5},
			{X: 14, Y: 5},
			{X: 14, Y: 4},
			{X: 13, Y: 4},
			{X: 13, Y: 3},
			{X: 14, Y: 3},
			{X: 13, Y: 2},
			{X: 14, Y: 2},
			{X: 10, Y: 2},
			{X: 10, Y: 3},
			{X: 8, Y: 2},
			{X: 8, Y: 3},
			{X: 6, Y: 2},
			{X: 6, Y: 3},
			{X: 3, Y: 6},
			{X: 2, Y: 6},
			{X: 2, Y: 8},
			{X: 3, Y: 8},
			// double hazards near passages:
			{X: 2, Y: 6},
			{X: 2, Y: 8},
			{X: 2, Y: 10},
			{X: 3, Y: 6},
			{X: 3, Y: 8},
			{X: 3, Y: 10},
			{X: 6, Y: 2},
			{X: 6, Y: 3},
			{X: 6, Y: 13},
			{X: 6, Y: 14},
			{X: 8, Y: 2},
			{X: 8, Y: 3},
			{X: 8, Y: 13},
			{X: 8, Y: 14},
			{X: 10, Y: 2},
			{X: 10, Y: 3},
			{X: 10, Y: 13},
			{X: 10, Y: 14},
			{X: 13, Y: 6},
			{X: 13, Y: 8},
			{X: 13, Y: 10},
			{X: 14, Y: 6},
			{X: 14, Y: 8},
			{X: 14, Y: 10},
		},
		{X: 19, Y: 19}: {
			{X: 2, Y: 5},
			{X: 2, Y: 4},
			{X: 2, Y: 3},
			{X: 2, Y: 2},
			{X: 3, Y: 2},
			{X: 4, Y: 2},
			{X: 5, Y: 2},
			{X: 11, Y: 2},
			{X: 12, Y: 2},
			{X: 12, Y: 3},
			{X: 3, Y: 12},
			{X: 2, Y: 11},
			{X: 3, Y: 11},
			{X: 5, Y: 3},
			{X: 3, Y: 3},
			{X: 3, Y: 4},
			{X: 3, Y: 5},
			{X: 4, Y: 3},
			{X: 3, Y: 14},
			{X: 3, Y: 13},
			{X: 13, Y: 3},
			{X: 14, Y: 3},
			{X: 13, Y: 2},
			{X: 14, Y: 2},
			{X: 6, Y: 2},
			{X: 6, Y: 3},
			{X: 3, Y: 6},
			{X: 2, Y: 6},
			{X: 2, Y: 12},
			{X: 2, Y: 13},
			{X: 2, Y: 14},
			{X: 3, Y: 15},
			{X: 2, Y: 15},
			{X: 2, Y: 16},
			{X: 3, Y: 16},
			{X: 4, Y: 16},
			{X: 6, Y: 16},
			{X: 5, Y: 16},
			{X: 7, Y: 16},
			{X: 9, Y: 16},
			{X: 11, Y: 16},
			{X: 13, Y: 16},
			{X: 12, Y: 16},
			{X: 14, Y: 16},
			{X: 16, Y: 16},
			{X: 16, Y: 15},
			{X: 16, Y: 14},
			{X: 16, Y: 13},
			{X: 16, Y: 12},
			{X: 16, Y: 11},
			{X: 15, Y: 11},
			{X: 15, Y: 12},
			{X: 15, Y: 13},
			{X: 15, Y: 14},
			{X: 15, Y: 15},
			{X: 15, Y: 16},
			{X: 16, Y: 9},
			{X: 15, Y: 9},
			{X: 16, Y: 7},
			{X: 15, Y: 7},
			{X: 15, Y: 6},
			{X: 16, Y: 6},
			{X: 16, Y: 5},
			{X: 15, Y: 5},
			{X: 15, Y: 3},
			{X: 15, Y: 4},
			{X: 16, Y: 4},
			{X: 16, Y: 3},
			{X: 15, Y: 2},
			{X: 16, Y: 2},
			{X: 4, Y: 15},
			{X: 6, Y: 15},
			{X: 5, Y: 15},
			{X: 7, Y: 15},
			{X: 9, Y: 15},
			{X: 11, Y: 15},
			{X: 12, Y: 15},
			{X: 13, Y: 15},
			{X: 14, Y: 15},
			{X: 11, Y: 3},
			{X: 9, Y: 2},
			{X: 9, Y: 3},
			{X: 7, Y: 2},
			{X: 7, Y: 3},
			{X: 2, Y: 7},
			{X: 3, Y: 7},
			{X: 2, Y: 9},
			{X: 3, Y: 9},
			// double hazards near passages:
			{X: 2, Y: 7},
			{X: 2, Y: 9},
			{X: 2, Y: 11},
			{X: 3, Y: 7},
			{X: 3, Y: 9},
			{X: 3, Y: 11},
			{X: 7, Y: 2},
			{X: 7, Y: 3},
			{X: 7, Y: 15},
			{X: 7, Y: 16},
			{X: 9, Y: 2},
			{X: 9, Y: 3},
			{X: 9, Y: 15},
			{X: 9, Y: 16},
			{X: 11, Y: 2},
			{X: 11, Y: 3},
			{X: 11, Y: 15},
			{X: 11, Y: 16},
			{X: 15, Y: 7},
			{X: 15, Y: 9},
			{X: 15, Y: 11},
			{X: 16, Y: 7},
			{X: 16, Y: 9},
			{X: 16, Y: 11},
		},
		{X: 21, Y: 21}: {
			{X: 12, Y: 3},
			{X: 3, Y: 12},
			{X: 5, Y: 3},
			{X: 3, Y: 3},
			{X: 3, Y: 4},
			{X: 3, Y: 5},
			{X: 4, Y: 3},
			{X: 3, Y: 14},
			{X: 3, Y: 13},
			{X: 13, Y: 3},
			{X: 14, Y: 3},
			{X: 6, Y: 3},
			{X: 3, Y: 6},
			{X: 3, Y: 15},
			{X: 3, Y: 16},
			{X: 15, Y: 3},
			{X: 16, Y: 3},
			{X: 7, Y: 3},
			{X: 3, Y: 7},
			{X: 3, Y: 17},
			{X: 4, Y: 17},
			{X: 5, Y: 17},
			{X: 6, Y: 17},
			{X: 7, Y: 17},
			{X: 8, Y: 17},
			{X: 16, Y: 4},
			{X: 15, Y: 4},
			{X: 14, Y: 4},
			{X: 4, Y: 4},
			{X: 5, Y: 4},
			{X: 6, Y: 4},
			{X: 7, Y: 4},
			{X: 12, Y: 4},
			{X: 13, Y: 4},
			{X: 17, Y: 4},
			{X: 17, Y: 3},
			{X: 17, Y: 5},
			{X: 17, Y: 6},
			{X: 16, Y: 6},
			{X: 16, Y: 5},
			{X: 16, Y: 7},
			{X: 17, Y: 7},
			{X: 17, Y: 8},
			{X: 16, Y: 8},
			{X: 17, Y: 10},
			{X: 16, Y: 10},
			{X: 17, Y: 12},
			{X: 16, Y: 12},
			{X: 16, Y: 13},
			{X: 17, Y: 13},
			{X: 17, Y: 15},
			{X: 17, Y: 14},
			{X: 16, Y: 14},
			{X: 16, Y: 15},
			{X: 16, Y: 16},
			{X: 17, Y: 16},
			{X: 17, Y: 17},
			{X: 15, Y: 17},
			{X: 16, Y: 17},
			{X: 14, Y: 17},
			{X: 13, Y: 17},
			{X: 12, Y: 17},
			{X: 10, Y: 17},
			{X: 4, Y: 16},
			{X: 5, Y: 16},
			{X: 6, Y: 16},
			{X: 7, Y: 16},
			{X: 8, Y: 16},
			{X: 10, Y: 16},
			{X: 13, Y: 16},
			{X: 12, Y: 16},
			{X: 14, Y: 16},
			{X: 15, Y: 16},
			{X: 4, Y: 15},
			{X: 4, Y: 14},
			{X: 4, Y: 13},
			{X: 4, Y: 12},
			{X: 4, Y: 10},
			{X: 4, Y: 8},
			{X: 4, Y: 7},
			{X: 4, Y: 6},
			{X: 4, Y: 5},
			{X: 3, Y: 8},
			{X: 3, Y: 10},
			{X: 10, Y: 3},
			{X: 10, Y: 4},
			{X: 8, Y: 4},
			{X: 8, Y: 3},
			// double hazards near passages:
			{X: 3, Y: 8},
			{X: 3, Y: 10},
			{X: 3, Y: 12},
			{X: 4, Y: 8},
			{X: 4, Y: 10},
			{X: 4, Y: 12},
			{X: 8, Y: 3},
			{X: 8, Y: 4},
			{X: 8, Y: 16},
			{X: 8, Y: 17},
			{X: 10, Y: 3},
			{X: 10, Y: 4},
			{X: 10, Y: 16},
			{X: 10, Y: 17},
			{X: 12, Y: 3},
			{X: 12, Y: 4},
			{X: 12, Y: 16},
			{X: 12, Y: 17},
			{X: 16, Y: 8},
			{X: 16, Y: 10},
			{X: 16, Y: 12},
			{X: 17, Y: 8},
			{X: 17, Y: 10},
			{X: 17, Y: 12},
		},
		{X: 23, Y: 23}: {
			{X: 12, Y: 3},
			{X: 3, Y: 12},
			{X: 5, Y: 3},
			{X: 3, Y: 3},
			{X: 3, Y: 4},
			{X: 3, Y: 5},
			{X: 4, Y: 3},
			{X: 3, Y: 13},
			{X: 13, Y: 3},
			{X: 6, Y: 3},
			{X: 3, Y: 6},
			{X: 3, Y: 15},
			{X: 3, Y: 16},
			{X: 15, Y: 3},
			{X: 16, Y: 3},
			{X: 7, Y: 3},
			{X: 3, Y: 17},
			{X: 4, Y: 17},
			{X: 16, Y: 4},
			{X: 15, Y: 4},
			{X: 4, Y: 4},
			{X: 5, Y: 4},
			{X: 6, Y: 4},
			{X: 7, Y: 4},
			{X: 12, Y: 4},
			{X: 13, Y: 4},
			{X: 17, Y: 4},
			{X: 17, Y: 3},
			{X: 4, Y: 16},
			{X: 4, Y: 15},
			{X: 4, Y: 13},
			{X: 4, Y: 12},
			{X: 4, Y: 10},
			{X: 4, Y: 8},
			{X: 4, Y: 6},
			{X: 4, Y: 5},
			{X: 3, Y: 8},
			{X: 3, Y: 10},
			{X: 10, Y: 3},
			{X: 10, Y: 4},
			{X: 18, Y: 3},
			{X: 19, Y: 3},
			{X: 19, Y: 4},
			{X: 18, Y: 4},
			{X: 3, Y: 18},
			{X: 4, Y: 18},
			{X: 4, Y: 19},
			{X: 3, Y: 19},
			{X: 5, Y: 19},
			{X: 5, Y: 18},
			{X: 6, Y: 18},
			{X: 6, Y: 19},
			{X: 7, Y: 19},
			{X: 10, Y: 18},
			{X: 10, Y: 19},
			{X: 11, Y: 19},
			{X: 11, Y: 18},
			{X: 12, Y: 18},
			{X: 12, Y: 19},
			{X: 13, Y: 19},
			{X: 13, Y: 18},
			{X: 15, Y: 18},
			{X: 15, Y: 19},
			{X: 16, Y: 19},
			{X: 16, Y: 18},
			{X: 17, Y: 18},
			{X: 17, Y: 19},
			{X: 18, Y: 19},
			{X: 19, Y: 19},
			{X: 19, Y: 18},
			{X: 18, Y: 18},
			{X: 18, Y: 16},
			{X: 18, Y: 17},
			{X: 19, Y: 17},
			{X: 19, Y: 16},
			{X: 18, Y: 15},
			{X: 19, Y: 15},
			{X: 18, Y: 13},
			{X: 19, Y: 13},
			{X: 19, Y: 12},
			{X: 18, Y: 12},
			{X: 18, Y: 11},
			{X: 19, Y: 11},
			{X: 19, Y: 10},
			{X: 18, Y: 10},
			{X: 18, Y: 9},
			{X: 19, Y: 9},
			{X: 19, Y: 8},
			{X: 18, Y: 8},
			{X: 19, Y: 6},
			{X: 18, Y: 6},
			{X: 18, Y: 5},
			{X: 19, Y: 5},
			{X: 11, Y: 4},
			{X: 11, Y: 3},
			{X: 9, Y: 3},
			{X: 9, Y: 4},
			{X: 4, Y: 9},
			{X: 3, Y: 9},
			{X: 3, Y: 11},
			{X: 4, Y: 11},
			{X: 9, Y: 19},
			{X: 7, Y: 18},
			{X: 9, Y: 18},
			// double hazards near passages:
			{X: 3, Y: 6},
			{X: 3, Y: 8},
			{X: 3, Y: 13},
			{X: 3, Y: 15},
			{X: 4, Y: 6},
			{X: 4, Y: 8},
			{X: 4, Y: 13},
			{X: 4, Y: 15},
			{X: 7, Y: 3},
			{X: 7, Y: 4},
			{X: 7, Y: 18},
			{X: 7, Y: 19},
			{X: 9, Y: 3},
			{X: 9, Y: 4},
			{X: 9, Y: 18},
			{X: 9, Y: 19},
			{X: 13, Y: 3},
			{X: 13, Y: 4},
			{X: 13, Y: 18},
			{X: 13, Y: 19},
			{X: 15, Y: 3},
			{X: 15, Y: 4},
			{X: 15, Y: 18},
			{X: 15, Y: 19},
			{X: 18, Y: 6},
			{X: 18, Y: 8},
			{X: 18, Y: 13},
			{X: 18, Y: 15},
			{X: 19, Y: 6},
			{X: 19, Y: 8},
			{X: 19, Y: 13},
			{X: 19, Y: 15},
		},
		{X: 25, Y: 25}: {
			{X: 5, Y: 3},
			{X: 3, Y: 3},
			{X: 3, Y: 4},
			{X: 3, Y: 5},
			{X: 4, Y: 3},
			{X: 3, Y: 13},
			{X: 13, Y: 3},
			{X: 6, Y: 3},
			{X: 3, Y: 6},
			{X: 15, Y: 3},
			{X: 7, Y: 3},
			{X: 3, Y: 17},
			{X: 4, Y: 17},
			{X: 15, Y: 4},
			{X: 4, Y: 4},
			{X: 5, Y: 4},
			{X: 6, Y: 4},
			{X: 7, Y: 4},
			{X: 13, Y: 4},
			{X: 17, Y: 4},
			{X: 17, Y: 3},
			{X: 4, Y: 13},
			{X: 4, Y: 10},
			{X: 4, Y: 6},
			{X: 4, Y: 5},
			{X: 3, Y: 10},
			{X: 10, Y: 3},
			{X: 10, Y: 4},
			{X: 18, Y: 3},
			{X: 19, Y: 3},
			{X: 19, Y: 4},
			{X: 18, Y: 4},
			{X: 3, Y: 18},
			{X: 4, Y: 18},
			{X: 4, Y: 19},
			{X: 3, Y: 19},
			{X: 11, Y: 4},
			{X: 11, Y: 3},
			{X: 9, Y: 3},
			{X: 9, Y: 4},
			{X: 3, Y: 11},
			{X: 4, Y: 11},
			{X: 20, Y: 3},
			{X: 21, Y: 3},
			{X: 21, Y: 4},
			{X: 20, Y: 4},
			{X: 20, Y: 5},
			{X: 21, Y: 5},
			{X: 21, Y: 6},
			{X: 20, Y: 6},
			{X: 20, Y: 7},
			{X: 21, Y: 7},
			{X: 21, Y: 10},
			{X: 21, Y: 9},
			{X: 20, Y: 9},
			{X: 20, Y: 10},
			{X: 20, Y: 11},
			{X: 21, Y: 11},
			{X: 21, Y: 13},
			{X: 20, Y: 13},
			{X: 20, Y: 14},
			{X: 21, Y: 14},
			{X: 21, Y: 15},
			{X: 20, Y: 15},
			{X: 21, Y: 18},
			{X: 20, Y: 17},
			{X: 21, Y: 17},
			{X: 20, Y: 18},
			{X: 20, Y: 19},
			{X: 21, Y: 19},
			{X: 21, Y: 20},
			{X: 20, Y: 20},
			{X: 20, Y: 21},
			{X: 21, Y: 21},
			{X: 19, Y: 21},
			{X: 18, Y: 21},
			{X: 17, Y: 21},
			{X: 15, Y: 21},
			{X: 14, Y: 21},
			{X: 13, Y: 21},
			{X: 19, Y: 20},
			{X: 18, Y: 20},
			{X: 17, Y: 20},
			{X: 15, Y: 20},
			{X: 14, Y: 20},
			{X: 13, Y: 20},
			{X: 11, Y: 20},
			{X: 9, Y: 20},
			{X: 7, Y: 20},
			{X: 5, Y: 20},
			{X: 4, Y: 20},
			{X: 3, Y: 20},
			{X: 3, Y: 21},
			{X: 4, Y: 21},
			{X: 5, Y: 21},
			{X: 6, Y: 21},
			{X: 6, Y: 20},
			{X: 7, Y: 21},
			{X: 9, Y: 21},
			{X: 10, Y: 21},
			{X: 11, Y: 21},
			{X: 10, Y: 20},
			{X: 3, Y: 14},
			{X: 4, Y: 14},
			{X: 4, Y: 7},
			{X: 3, Y: 7},
			{X: 14, Y: 4},
			{X: 14, Y: 3},
			{X: 3, Y: 9},
			{X: 4, Y: 9},
			{X: 3, Y: 15},
			{X: 4, Y: 15},
			// double hazards near passages:
			{X: 3, Y: 7},
			{X: 3, Y: 9},
			{X: 3, Y: 11},
			{X: 3, Y: 13},
			{X: 3, Y: 15},
			{X: 3, Y: 17},
			{X: 4, Y: 7},
			{X: 4, Y: 9},
			{X: 4, Y: 11},
			{X: 4, Y: 13},
			{X: 4, Y: 15},
			{X: 4, Y: 17},
			{X: 7, Y: 3},
			{X: 7, Y: 4},
			{X: 7, Y: 20},
			{X: 7, Y: 21},
			{X: 9, Y: 3},
			{X: 9, Y: 4},
			{X: 9, Y: 20},
			{X: 9, Y: 21},
			{X: 11, Y: 3},
			{X: 11, Y: 4},
			{X: 11, Y: 20},
			{X: 11, Y: 21},
			{X: 13, Y: 3},
			{X: 13, Y: 4},
			{X: 13, Y: 20},
			{X: 13, Y: 21},
			{X: 15, Y: 3},
			{X: 15, Y: 4},
			{X: 15, Y: 20},
			{X: 15, Y: 21},
			{X: 17, Y: 3},
			{X: 17, Y: 4},
			{X: 17, Y: 20},
			{X: 17, Y: 21},
			{X: 20, Y: 7},
			{X: 20, Y: 9},
			{X: 20, Y: 11},
			{X: 20, Y: 13},
			{X: 20, Y: 15},
			{X: 20, Y: 17},
			{X: 21, Y: 7},
			{X: 21, Y: 9},
			{X: 21, Y: 11},
			{X: 21, Y: 13},
			{X: 21, Y: 15},
			{X: 21, Y: 17},
		},
	},
}
